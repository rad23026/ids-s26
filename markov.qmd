# Markov Chains

## What is a Markov Chain?

- A **Markov Chain** is a mathematical system (stochastic model) that models a sequence of events
where the probability of transitioning to the next state depends solely on the current state, not on previous history
- Utilizes the memoryless property, meaning only the present state matters for predicting the future

### Components of a Markov Chain
- States: the possible situations/nodes the chain can be in at any given time
Can be represented by the state space (set of all possible states)
- Transition Probabilities: measure the probabiliy of a stochastic system moving from one state to another
within a specific timeframe or single step (represented by arrows)
Written mathematically as $$ p_{ij} = \Pr(X_{n+1} = j \mid X_n = i)$$

### Example of Weather Markov Chain
![Weather Markov Chain](https://www.kdnuggets.com/wp-content/uploads/Captura-de-pantalla-2024-09-27-a-las-16.46.05.png)
Talk about example with weather Markov Chain

####  A Transition Matrix
- Definition: A square matrix that describes the probabilities of transitioning from one state to another
- p_{ij} represents the probability of moving from state i to state j
- Rows represent the current states, columns represent the possible next states
- All rows must sum to 1
- We can show create our transition matrix using a numpy array

```{python}
import numpy as np

# Create a 3x3 matrix
my_matrix = np.array([[0.7, 0.2, 0.1],[0.1, 0.6, 0.3],[0.2, 0.5, 0.3]])
print(my_matrix)
```

```{python}
import networkx as nx
import matplotlib.pyplot as plt

G = nx.DiGraph()

G.add_edge("A", "A", weight=0.7)
G.add_edge("A", "B", weight=0.3)
G.add_edge("B", "A", weight=0.4)
G.add_edge("B", "B", weight=0.6)

pos = nx.spring_layout(G)
nx.draw(G, pos, with_labels=True)
labels = nx.get_edge_attributes(G,'weight')
nx.draw_networkx_edge_labels(G, pos, edge_labels=labels)

plt.show()
```